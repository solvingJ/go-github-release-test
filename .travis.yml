sudo: required
language: cpp
compiler:
- gcc
os:
- linux
addons:
  apt:
    sources:
    - sourceline: deb https://dl.bintray.com/solvingj/public-deb unstable main
    packages:
    - cmake
    - fakeroot
    - go-bin-deb
    - changelog
    
before_script: 
  - mkdir build
  - cd build

script: 
  - cmake ../src
  - cmake --build . --config release
  - cd ..
  - go-bin-deb generate --file deb-creation-data.json --version 0.0.1
  
deploy:
  - provider: bintray
    user: solvingj
    key: 
      secure: "S/5a2/n2tfTid37QOmigtA5vc54mj1d54O3twYOgiGoN2IUHkwYWR0Wjzng/6/H2K+wAZo8Lyn7Mx/rZDkZttDHvmKXxEayeW9yyJRXnfFyXCI0kCoB0PkiaFMHScKc1JgloVGsdy35fq3k8YCfofY6FAxejT0woXQ6wFceUBcQm1VaY8/vW8j5umXPt1LzRXPiUEblzCC+KMv9YnogKiAc8T7hZCY9vK1KYlJBrdcP79udU1RnFrvS4lnMZCIDw5qcPOXRZN9lzdqQe5frsHCwOs75AaV2Bnrw5A29/Piv/oRyv/VJ85SXDJwzOmf4cHymdfrCYeT/Zkg7eYuUT6QV4ix+i/5cDsz3N82zigVZOJ+wqaEHTmqj4WbJdo8lLsGj0uCsZo5HDtPUJWgi5+w5k/ZI0HX6PTdwHb1PmCDx06vMXWD5SKwfwK/T49yjaY3vK6r7ppQvr+wQcEolUzDHZz+vhlwq18Xj5oekVbQZ+cg7vzyScFS5LUVdCkpvVd+3MkxTkG2AnyUtvp3TjmTCoOUGM9nfJxZu0dbqVyWRhIbV+W3TjsyVgL4BUedcPVLggtVYEe74HK1tkPe1ogEcRD42b6qo4kX641QiSWh+aH5LIRvbQNuRmJ8yTGb8NUI7XNZ2i2qb13cPbChTVrgy6G+9l6G0AFdok9xTxRmI="
    file: deb-publish-data.json
    version: 
      name: 0.0.1
    skip_cleanup: true
    on: master
##  - provider: bintray
#    user: solvingj
#    key: 
#      secure: "j2jbaaRVHjFmUp+7xanz4VJCgpAgtZIgIfNjBsE7B+THynf2O2IGqxtm/G5wXO/47/mnEv82yUPfy+/BkcCna4cUB5ngNHUt07tOh8XY4SysgcIT76G3YmjXQjMXHv4qeaME+WmVrscju2aRGqYIS0+nyC4lEIVGatY8j8IlQhOCmP0NgD6tw1m8+g+QrNmD9uPNU19QP/kWuEeNO6Jg1jbIEdyqH8RtnZh6SnP241Jr5B2pUWgk8P3XvyXI1dqCjwj3cus2CgSewJwj07FFyslzlyeI0ToDFwDaUuf++M/5olM+Tt1c8BT5PzSdFt6q0RE1IlQmZ/whu0YN/rmj3w/sjuDtnLJjKGS4oKtbeArsplchSd+oHxZHT0w5WH2EpobTn6EYv1J/K0fvxMHAD+550GkpsiesEJM+UjQ7XDPgZCc5OseOXeHxiORNudY5yvWNIaK26ApHxfJVvdT5g39C6A1msz8OqJ3wBoZlrwp6Lg98vv/caHFqDUm+Hr/rOVZFy9zmh2qgXhyqxplHCQjQ4EL441kGkKrF1Y4bLvZaMkWTkqvyQrNttIlZSYCvR0xXwatLW7CDilrFQVyELBjLkZaDfIY03aMm+xHc3gvmPlGm3N7NM1jqsE+WPj8TVDYNSBXi2R56JnmYVW44PL2bzGUTbLI/7qbNHJ+bc+c="
#    file: rpm-publish-data.json
#    version: 
#      name: 0.0.1
#    skip_cleanup: true
#    on:
#      tags: true
#      branch: master
